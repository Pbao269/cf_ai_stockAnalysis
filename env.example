# Stock Report Platform Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================

# Financial Modeling Prep API Key
# Get your free API key at: https://financialmodelingprep.com/developer/docs
FMP_API_KEY=your_fmp_api_key_here

# Alpha Vantage API Key  
# Get your free API key at: https://www.alphavantage.co/support/#api-key
ALPHAVANTAGE_API_KEY=your_alphavantage_api_key_here

# =============================================================================
# NOTION INTEGRATION (Optional)
# =============================================================================

# Notion Integration Token
# Create at: https://www.notion.so/my-integrations
NOTION_TOKEN=your_notion_token_here

# Notion Database ID for exporting reports
NOTION_DATABASE_ID=your_notion_database_id_here

# =============================================================================
# CLOUDFLARE RESOURCE CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# =============================================================================
# WORKERS AI CONFIGURATION
# =============================================================================

# Workers AI Model Configuration
# Available models: @cf/meta/llama-3.3-70b-instruct-fp8-fast, @cf/meta/llama-3.3-8b-instruct-fp8-fast
WORKERS_AI_MODEL=@cf/meta/llama-3.3-70b-instruct-fp8-fast

# =============================================================================
# DATA SOURCE CONFIGURATION
# =============================================================================

# Primary data source priority (fmp, alphavantage, yfinance, stooq)
PRIMARY_DATA_SOURCE=fmp

# Fallback data sources (comma-separated)
FALLBACK_DATA_SOURCES=alphavantage,yfinance,stooq

# Data refresh intervals (in minutes)
QUOTES_REFRESH_INTERVAL=5
FUNDAMENTALS_REFRESH_INTERVAL=60
SCREENER_REFRESH_INTERVAL=15

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# KV Cache TTL (in seconds)
KV_CACHE_TTL=300

# R2 Cache TTL for OHLCV data (in seconds)
R2_CACHE_TTL=3600

# =============================================================================
# RATE LIMITING
# =============================================================================

# API rate limits (requests per minute)
FMP_RATE_LIMIT=300
ALPHAVANTAGE_RATE_LIMIT=5
YFINANCE_RATE_LIMIT=1000

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Email notification settings (if using custom SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Debug mode (true/false)
DEBUG=false

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# Rate limiting (requests per minute per IP)
RATE_LIMIT_PER_MINUTE=100

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
ENABLE_NOTION_EXPORT=true
ENABLE_PORTFOLIO_TRACKING=true
ENABLE_ALERTS=true
ENABLE_SAVED_REPORTS=true
ENABLE_PUBLIC_SHARING=false

# =============================================================================
# WORKFLOW CONFIGURATION
# =============================================================================

# ETL Workflow schedules (cron expressions)
DAILY_ETL_SCHEDULE=0 2 * * *
HOURLY_QUOTES_SCHEDULE=0 * * * *
WEEKLY_FUNDAMENTALS_SCHEDULE=0 3 * * 0

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Enable analytics tracking
ENABLE_ANALYTICS=false

# Analytics provider (if enabled)
ANALYTICS_PROVIDER=cloudflare

# =============================================================================
# NOTES
# =============================================================================

# 1. JWT_SECRET is not required as we use Cloudflare Access for authentication
# 2. All sensitive values should be stored as Cloudflare secrets using:
#    wrangler secret put SECRET_NAME
# 3. For production, use Cloudflare's secret management instead of .env files
# 4. Update the wrangler config files with actual resource IDs after creation
